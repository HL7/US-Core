<!-- =============================================================================
This table is generated by the liquid syntax below.
The source table is the ig-publisher generated temp/pages/codesystem-ref-all-list.csv.  It lists all the code system used in the IG.
which is copied into the input/data folder by the pubish.sh bash script following a successful ig-publication run.

Columns:
URL: FHIR uri for the code system (may or may not resolve (the "if..elsif..."  in the script below creates resolvable links)
Version: Code System version for this publication
Status: Code system status ( eg. draft|active )
OIDs: Assigned OID for code system
Name: Computer friendly PascalCase code system name
Title: Human friendly code system name
Description: Code system description
Used: Comma separated string of value sets in the IG that use the code system
================================================================================== -->

Code System Sources:

- [FHIR]({{site.data.fhir.path}})
- [US CORE](terminology.html)
<!-- - [PHINVADS](http://phinvads.cdc.gov/fhir/) -->
- [THO](http://terminology.hl7.org/)
- [SNOMED](http://snomed.info/sct)
- [LOINC](http://loinc.org)
- [UCUM](http://unitsofmeasure.org)
- [CDC](https://www.cdc.gov/index.htm)
- Code systems published by other standards organizations

{% assign rows = site.data.codesystem-ref-all-list | sort: "Title" %}
{% assign bad-THO-list = "http://terminology.hl7.org/fhir/CodeSystem/medicationdispense-category, http://terminology.hl7.org/CodeSystem/medicationdispense-status, http://terminology.hl7.org/fhir/CodeSystem/medicationdispense-status-reason" | split: ", " %}

<table class="grid">
<thead>
<tr>
<th>Row #</th>
<th>Code System</th>
<th>Code System URI</th>
<th>Value Sets Where Used</th>
<th>Source</th>
</tr>
</thead>
<tbody>
{% for item in rows %}
{% assign cs_link = item.URL %}
{% assign no_link = false %}
{% assign source = "Other" %}

{%- comment -%} Determine source and link and create resolvable links where possible {%- endcomment -%}
{% if item.URL contains 'http://hl7.org/fhir/us/core/CodeSystem/' %}
{% assign source = "US CORE" %}<!-- US Core -->
{% assign stem_URL = item.URL | split: 'CodeSystem/' | last %}
{% assign cs_link = "CodeSystem-" | append: stem_URL | append: '.html' %}
{% elsif bad-THO-list contains item.URL %}
{% assign source = "THO" %} <!-- THO-->
{% assign no_link = true %}
{% elsif item.URL contains 'http://terminology.hl7.org/CodeSystem/' %}
{% assign source = "THO" %} <!-- THO-->
{% elsif item.URL contains 'http://hl7.org/fhir/sid/icd-9-cm' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://www.cms.gov/medicare/coding-billing/icd-10-codes/icd-9-cm-diagnosis-procedure-codes-abbreviated-and-full-code-titles' %}
{% elsif item.URL contains 'http://hl7.org/fhir/sid/icd-10-cm' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://www.cdc.gov/nchs/icd/icd-10-cm.htm' %}
{% elsif item.URL contains 'http://hl7.org/fhir/sid/cvx' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://www2a.cdc.gov/vaccines/iis/iisstandards/vaccines.asp?rpt=cvx' %}
{% elsif item.URL contains 'https://nahdo.org/sopt' %}
{% assign source = "CDC" %}
{% assign cs_link = 'https://phinvads.cdc.gov/vads/ViewCodeSystem.action?id=2.16.840.1.113883.3.221.5' %}
{% elsif item.URL == 'http://hl7.org/fhir/fhir-types' %} <!-- fix bad link -->
{% assign source = "FHIR" %} <!-- fhir -->
{% elsif item.URL contains 'http://hl7.org/fhir/CodeSystem' %}
{% assign source = "FHIR" %} <!-- fhir -->
{% assign stem_URL = item.URL | split: 'CodeSystem/' | last  %}
{% assign cs_link = site.data.fhir.path | append: "codesystem-" | append: stem_URL | append: '.html' %}
{% elsif item.URL contains 'http://hl7.org/fhir/' %}
{% assign source = "FHIR" %} <!-- fhir -->
{% assign stem_URL = item.URL | split: 'fhir/' | last %}
{% assign cs_link = site.data.fhir.path | append: "codesystem-" | append: stem_URL | append: '.html' %}
{% elsif item.URL contains 'http://cts.nlm.nih.gov/fhir/' %}
{% assign source = "VSAC" %}
{% elsif item.URL contains 'http://phinvads.cdc.gov/fhir/' %}
{% assign source = "PHINVADS" %} <!-- PHINVADS-->
{% elsif item.URL contains 'http://snomed.info/sct' %}
{% assign source = "SNOMED" %}
{% elsif item.URL contains 'http://unitsofmeasure.org' %}
{% assign source = "UCUM" %}
{% elsif item.URL contains 'http://loinc.org' %}
{% assign source = "LOINC" %}
{% elsif item.URL contains 'urn' %} <!-- rest with no link e.g urn or OID -->
{% assign no_link = true %}
{% else %} <!--  Other sources - us URL as link -->
{% endif %}
<tr>
<td>{{forloop.index}}</td>
<td>{% if no_link %}{{item.Title | default: item.Name }}{% else %}<a href="{{cs_link}}">{{item.Title | default: item.Name }}</a>{% endif %}</td>
<td><code>{{item.URL}}</code></td>
<td>{{item.Used | split: ',' | join: '<br />'}}</td>
<td>{{source}}</td>
</tr>
{% endfor %}
</tbody>
</table>

<!-- =========================== end liquid script ================================================ -->


