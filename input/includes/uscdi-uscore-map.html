<!-- Source =  This file is generated by liquid syntax below. The source table is input/data/uscdi-table.csv
 where edits to the table contents are made  -->

{% assign rows = site.data.uscdi-table %}
{% assign items_grouped = rows | group_by: "data_class" %}


<style>
  .panel {
    background: #0074bb;
    color: white;
    font-weight: bold;
    margin-bottom: 3px;
    margin-right: 40px;
    margin-left: 40px;
    padding: 0;
    box-shadow: 1px 2px DarkGray;
  }

  .panel-body {
    padding-left: 15px;
  }

  .panel table {
    /* table-layout: fixed;
    word-wrap: break-word;
    width: auto; */
    border: 0 !important;
    padding-right: 20px;
  }

  .panel th {
    font-weight: bold;
    text-align: left;
    font-size: 1.2em;
  }

  .panel td {
    font-weight: bold;
    text-align: left;
    font-size: 1.2em;
  }

  .panel a {
    color: white;
    font-weight: bold;
    text-decoration: underline;
  }

  .icon-right {
    float: right;
    padding: 6px
  }
</style>


<div>
  <div class="icon-right">
    <img src="USCDI.png" alt="USCDI Logo" class="pull-right img-responsive" style="width: 60%;">
  </div>
  <p style="font-size: 300%; font-weight: bold;" class="text-center">US Core Data for Interoperability USCDI</p>
</div>

{% for group in items_grouped %}
{% for item in group.items %}
{% if forloop.first %}

<div class="panel">
  <div class="panel-body">
    <div class="icon-right">
      <img src="{{ item.data_class | downcase | replace: " ", "-" | replace: "/" , "-" }}.png" class="media-object"
        alt="{{item.data_class}}" style="width:60px">
    </div>
    <table class="table table-condensed">
      <thead>
        <tr>
          <th class="col-sm-4">{{ item.data_class }}</th>
          <th class="col-sm-4">
            {% assign profiles = item.uscore_profile | split: "|" %}
            {% if profiles != empty %} <!-- no profiles defined in table for USCDI  ( e.g., Provenance )-->
            {% for profile in profiles %}
            {% capture title %}{{profile | strip}}{% endcapture %}
            <a href="{% include sd_link.html title = title  %}">{{ title }}</a>
            {% unless forloop.last %}
            <br />
            {% endunless %}
            {% endfor %}
            {% else %}
            -
            {% endif %}
          </th>
          <th class="col-sm-2"><a href="{{ item.comment_link }}">{{ item.comment }}</a></th>
        </tr>
      </thead>
      <tbody>

        {% else %}

        <tr>
          <td>&nbsp;&nbsp;&nbsp;&nbsp;&bull;{{ item.data_element }}</td>

          <td>
            {% assign profiles = item.uscore_profile | split: "|" %}
            {% if profiles != empty %} <!-- no profiles defined in table for USCDI  ( e.g., Provenance )-->
            {% for profile in profiles %}
            {% capture title %}{{profile | strip}}{% endcapture %}
            {% capture url %}{% include sd_link.html title = title %}{% endcapture %}
            {% if url == '' %} <!-- not a US Core defined SD - assume is standard extension and use URL provided in the csv  -->
            <a href="{{site.data.fhir.ver.hl7_fhir_uv_extensions_r4}}/{{ item.fhir_extension_url }}">{{ title }}</a>
            {% else %}
            <a href="{{ url }}">{{ title }}</a>
            {% endif %}
            {% unless forloop.last %}
            <br />
            {% endunless %}
            {% endfor %}
            {% else %}
            <a href="basic-provenance.html#individual-level-provenance">Individual Provenance</a>
            {% endif %}
          </td>

          <td>
            <a href="{{ item.comment_link }}">{{ item.comment }}</a>
          </td>
        </tr>

        {% if forloop.last %}
      </tbody>
    </table>
  </div>
</div>

{% endif %}
{% endif %}
{% endfor %}
{% endfor %}