# new in USCore 9
resourceType: StructureDefinition
id: us-core-familymemberhistory

url: 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-familymemberhistory'
name: USCoreFamilyMemberHistoryProfile
title: US Core FamilyMemberHistory Profile
status: active
date: '2025-09-28'

description: >-
  The US Core FamilyMemberHistory Profile inherits from the FHIR [FamilyMemberHistory](https://hl7.org/fhir/R4/familymemberhistory.html) resource; refer to it for scope and usage definitions. This profile sets minimum expectations for the FamilyMemberHistory resource to record, search, and retrieve basic clinical information about a family member's health history that is relevant to a patient's care. It specifies which core elements, extensions, vocabularies, and value sets **SHALL** be present and constrains how the elements are used. Providing the floor for standards development for specific use cases promotes interoperability and adoption.
kind: resource
abstract: false
type: FamilyMemberHistory
baseDefinition: 'http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory'
derivation: constraint

differential:
  element:
    - id: FamilyMemberHistory
      path: FamilyMemberHistory

    - id: FamilyMemberHistory.extension
      path: FamilyMemberHistory.extension
      slicing:
        discriminator:
          - type: value
            path: url
        rules: open

    - id: FamilyMemberHistory.extension:recorder
      extension:
      - url: http://hl7.org/fhir/us/core/StructureDefinition/uscdi-requirement
        valueBoolean: true
      path: FamilyMemberHistory.extension
      short: "\uD835\uDDD4\uD835\uDDD7\uD835\uDDD7\uD835\uDDDC\uD835\uDDE7\uD835\uDDDC\uD835\uDDE2\uD835\uDDE1\uD835\uDDD4\uD835\uDDDF \uD835\uDDE8\uD835\uDDE6\uD835\uDDD6\uD835\uDDD7\uD835\uDDDC: Who recorded family member's health history"
      sliceName: recorder
      type:
        - code: Extension
          profile:
            - 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-familymemberhistory-recorder'
      mustSupport: false

    - id: FamilyMemberHistory.status
      path: FamilyMemberHistory.status
      mustSupport: true

    - id: FamilyMemberHistory.patient
      path: FamilyMemberHistory.patient
      type:
        - code: Reference
          targetProfile:
            - 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient'
      mustSupport: true

    - id: FamilyMemberHistory.relationship
      path: FamilyMemberHistory.relationship
      binding:
        strength: extensible
        description: Characterization of the familial relationship between two people.
        valueSet: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.1.11.19579'
      mustSupport: true

    - id: FamilyMemberHistory.condition
      path: FamilyMemberHistory.condition
      min: 0
      max: '*'
      mustSupport: true


    - id: FamilyMemberHistory.condition.code
      path: FamilyMemberHistory.condition.code
      binding:

# ====== New R5 additional Binding Element Here ====
      # extension:
      # - url: http://hl7.org/fhir/tools/StructureDefinition/additional-binding
      #   extension:
      #   - url: key
      #     valueId: us-core-condition-code-current
      #   - url: purpose
      #     valueCode: current
      #   - url: valueSet
      #     valueCanonical: http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code-current
      #   - url: documentation
      #     valueMarkdown: US Core uses the current additional binding for encoding newly recorded, non-legacy problem list items, health concerns and diagnosis
      #   - url: shortDoco
      #     valueString: Required for new records
# =========================================================

        strength: extensible
        description: Value set to describe the actual problem experienced by the patient
        valueSet: http://hl7.org/fhir/us/core/ValueSet/us-core-condition-code
      mustSupport: true