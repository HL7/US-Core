I" B
<hr />

<p><strong id="search" style="font-size: 20px;">Quick Start</strong>
<a name="quick-start"> </a></p>

<hr />

<p>Below is an overview of the required Server RESTful FHIR interactions for this profile - for example, search and read operations - when supporting the US Core interactions to access this profile’s information (Profile Support + Interaction Support). Note that systems that support only US Core Profiles (Profile Only Support) are not required to support these interactions.  See the <a href="CapabilityStatement-us-core-server.html">US Core Server CapabilityStatement</a> for a complete list of supported RESTful interactions for this IG.</p>

<ul>
  <li>The syntax used to describe the interactions is described <a href="general-guidance.html#search-syntax">here</a>.</li>
  <li>See the <a href="general-guidance.html" title="General Guidance Page">General Guidance</a> section for additional rules and expectations when a server requires status parameters.</li>
  <li>See the <a href="general-guidance.html" title="General Guidance Page">General Guidance</a> section for additional guidance on searching for multiple patients.</li>
</ul>

<h4 id="mandatory-search-parameters">Mandatory Search Parameters:</h4>

<p>The following search parameters and search parameter combinations SHALL be supported:</p>

<ol>
  <li>
    <p><strong>SHALL</strong> support fetching a DocumentReference using the <strong><a href="SearchParameter-us-core-documentreference-id.html"><code class="highlighter-rouge">_id</code></a></strong> search parameter:</p>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference[id]</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference/2169591</li>
      <li>GET [base]/DocumentReference?_id=2169591</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a single DocumentReference. The document itself is represented as a base64 encoded binary data element or retrieved using the link provided by the resource. If the document is a  relative link to a [Binary] resource like a resource reference, it can be subsequently retrieved using: <code class="highlighter-rouge">GET [base]/Binary/[id]</code>. (<a href="http://hl7.org/fhir/R4/references.html#logical">how to search by the logical id</a> of the resource)</p>
  </li>
  <li>
    <p><strong>SHALL</strong> support searching for all documentreferences for a patient using the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> search parameter:</p>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=1137192</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient. See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a>)</p>
  </li>
  <li>
    <p><strong>SHALL</strong> support searching using the combination of the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-category.html"><code class="highlighter-rouge">category</code></a></strong> search parameters:</p>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]&amp;category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=1235541&amp;category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient and category = <code class="highlighter-rouge">clinical-note</code>.  See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a> and <a href="http://hl7.org/fhir/R4/search.html#token">how to search by token</a>)</p>
  </li>
  <li><strong>SHALL</strong> support searching using the combination of the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-category.html"><code class="highlighter-rouge">category</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-date.html"><code class="highlighter-rouge">date</code></a></strong> search parameters:
    <ul>
      <li>including support for these <code class="highlighter-rouge">date</code> comparators: <code class="highlighter-rouge">gt,lt,ge,le</code></li>
      <li>including optional support for <em>AND</em> search on <code class="highlighter-rouge">date</code> (e.g.<code class="highlighter-rouge">date=[date]&amp;date=[date]]&amp;...</code>)</li>
    </ul>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]&amp;category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note&amp;date={gt|lt|ge|le}[date]{&amp;date={gt|lt|ge|le}[date]&amp;...}</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=1235541&amp;category=http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category|clinical-note&amp;date=ge2020-01-01T00:00:00Z</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient and category = <code class="highlighter-rouge">clinical=note</code> and date. See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a> and <a href="http://hl7.org/fhir/R4/search.html#token">how to search by token</a> and <a href="http://hl7.org/fhir/R4/search.html#date">how to search by date</a>)</p>
  </li>
  <li>
    <p><strong>SHALL</strong> support searching using the combination of the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-type.html"><code class="highlighter-rouge">type</code></a></strong> search parameters:</p>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]&amp;type={system|}[code]</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=1316024&amp;type=http://loinc.org|18842-5</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient and type. See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a> and <a href="http://hl7.org/fhir/R4/search.html#token">how to search by token</a>)</p>
  </li>
</ol>

<h4 id="optional-search-parameters">Optional Search Parameters:</h4>

<p>The following search parameter combinations SHOULD be supported:</p>

<ol>
  <li><strong>SHOULD</strong> support searching using the combination of the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-status.html"><code class="highlighter-rouge">status</code></a></strong> search parameters:
    <ul>
      <li>including support for <em>OR</em> search on <code class="highlighter-rouge">status</code> (e.g.<code class="highlighter-rouge">status={system|}[code],{system|}[code],...</code>)</li>
    </ul>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]&amp;status={system|}[code]{,{system|}[code],...}</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=1235541</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient and status. See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a> and <a href="http://hl7.org/fhir/R4/search.html#token">how to search by token</a>)</p>
  </li>
  <li><strong>SHOULD</strong> support searching using the combination of the <strong><a href="SearchParameter-us-core-documentreference-patient.html"><code class="highlighter-rouge">patient</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-type.html"><code class="highlighter-rouge">type</code></a></strong> and <strong><a href="SearchParameter-us-core-documentreference-period.html"><code class="highlighter-rouge">period</code></a></strong> search parameters:
    <ul>
      <li>including support for these <code class="highlighter-rouge">period</code> comparators: <code class="highlighter-rouge">gt,lt,ge,le</code></li>
      <li>including optional support for <em>AND</em> search on <code class="highlighter-rouge">period</code> (e.g.<code class="highlighter-rouge">period=[date]&amp;period=[date]]&amp;...</code>)</li>
    </ul>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference?patient={Type/}[id]&amp;type={system|}[code]&amp;period={gt|lt|ge|le}[date]{&amp;period={gt|lt|ge|le}[date]&amp;...}</code></p>

    <p>Example:</p>

    <ol>
      <li>GET [base]/DocumentReference?patient=2169591&amp;type=http://loinc.org |34133-9&amp;period=ge2020-01-01T00:00:00Z</li>
    </ol>

    <p><em>Implementation Notes:</em> Fetches a bundle of all DocumentReference resources for the specified patient and type and period. See the implementation notes above for how to access the actual document. (<a href="http://hl7.org/fhir/R4/search.html#reference">how to search by reference</a> and <a href="http://hl7.org/fhir/R4/search.html#token">how to search by token</a> and <a href="http://hl7.org/fhir/R4/search.html#date">how to search by date</a>)</p>
  </li>
</ol>

<h4 id="mandatory-write-capability">Mandatory Write Capability:</h4>

<ol>
  <li>
    <p><strong>SHALL</strong> support writing a new note to a Patient’s Chart:</p>

    <p><code class="highlighter-rouge">POST [base]/DocumentReference</code></p>
  </li>
</ol>

<p>
  <button class="btn-sm btn-info" type="button" title="Click to Open or Close Example" data-toggle="collapse" data-target="#documentreference-clinical-note-post" aria-expanded="false" aria-controls="collapseExample">
    Click Here To See Example
  </button>
</p>

<div class="collapse" id="documentreference-clinical-note-post">
  <div class="card card-body">
      
<p>An example to demonstrate writing a note to the server.</p>

<p><strong>Clinical Note</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
POST [base]/DocumentReference
Request Headers:
 content-type: "application/json"
 prefer: "return=REPRESENTATION"
 accept: "application/fhir+json"
Request Body:
 {
   "resourceType": "DocumentReference",
   "type": {
       "coding": [
           {
               "system": "http://loinc.org",
               "code": "18842-5",
               "display": "Discharge Summary"
           }
       ],
       "text": "Discharge Summary"
   },
   "subject": {
       "reference": "[base]/Patient/eso2MXsmcJloTEUEls5DzbA3"
   },
   "content": [{"attachment": {
       "contentType": "text/plain",
       "data": "Tm8gYWN0aXZpdHkgcmVzdHJpY3Rpb24sIHJlZ3VsYXIgZGlldCwgZm9sbG93IHVwIGluIHR3byB0byB0aHJlZSB3ZWVrcyB3aXRoIHByaW1hcnkgY2FyZSBwcm92aWRlci4="
   } }],
   "context": {"encounter": {"reference": "[base]/Encounter/eIOY6XJQw0hvmvCqTtkg6vQ3"} }
 }

</code></pre></div></div>

<p><strong>Note Content</strong></p>

<p>The content is Base64 encoded and states:
 “No activity restriction, regular diet, follow up in two to three weeks with primary care provider.”</p>

  </div>
</div>
<p><br /></p>

<h4 id="mandatory-operation">Mandatory Operation:</h4>

<ol>
  <li>
    <p><strong>SHALL</strong> support fetching documents using the $docref operation.</p>

    <p>This <a href="OperationDefinition-docref.html">$docref operation</a> is used to request a server <em>generate</em> a document based on the specified parameters.  If no parameters are specified, the server SHALL return a DocumentReference to the patient’s most current CCD.  See the $docref operation definition for details on how this operation differs from a FHIR RESTful search.  This operation returns a DocumentReference resources. The document itself is retrieved using the link provided in the <code class="highlighter-rouge">DocumentReference.content.attachment.url</code> element.</p>

    <p><code class="highlighter-rouge">GET [base]/DocumentReference/$docref?patient=[id]</code></p>
  </li>
</ol>

<p>
  <button class="btn-sm btn-info" type="button" title="Click to Open or Close Example" data-toggle="collapse" data-target="#docref-example" aria-expanded="false" aria-controls="collapseExample">
    Click Here To See Example
  </button>
</p>

<div class="collapse" id="docref-example">
  <div class="card card-body">
      
<p>The operation can be invoked using the GET Syntax if the complex type parameter is omitted:</p>

<p><code class="highlighter-rouge">GET [base]/DocumentReference/$docref?{parameters}</code></p>

<p>Otherwise the POST transaction is used as follows:</p>

<p><code class="highlighter-rouge">POST [base]/DocumentReference/$docref}</code></p>

<hr />

<h3 id="example">Example</h3>

<p><strong>Request the latest CCD for a patient using <code class="highlighter-rouge">GET</code> syntax</strong></p>

<p><code class="highlighter-rouge">GET [base]/DocumentReference/$docref?patient=123</code></p>

<p><strong>Request the latest CCD for a patient using <code class="highlighter-rouge">POST</code> syntax</strong></p>

<p><code class="highlighter-rouge">POST [base]/DocumentReference/$docref}</code></p>

<p><strong>POST request body:</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    {
      "resourceType": "Parameters",
      "id": "get-ccd123",
      "parameter": [
        {
          "name": "patient",
          "valueId" : "123"
        }
      ]
    }
</code></pre></div></div>

<p><strong>Response</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
[other headers]
</code></pre></div></div>

<p><strong>Response body</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    {
      "resourceType": "Bundle",
      "id": "get-ccd123-response",
      "type": "searchset",
      "total": 1,
      "entry": [{
        "fullUrl": "http://server/path/DocumentReference/get-ccd123",
        "resource":{
        "resourceType" : "DocumentReference",
        "id" : "get-ccd123",
        "meta" : {
          "profile" : [
            "http://fhir.org/guides/argonaut/StructureDefinition/argo-documentreference"
          ]
        },
        "identifier" : [
          {
            "system" : "urn:ietf:rfc:3986",
            "value" : "urn:oid:2.16.840.1.113883.19.5.99999.1"
          }
        ],
        "status" : "current",
        "type" : {
          "coding" : [
            {
              "system" : "http://loinc.org",
              "code" : "34133-9",
              "display" : "Summary of episode note"
            }
          ],
          "text" : "CCD Document"
        },
        "subject" : {
          "reference" : "Patient/example",
          "display" : "Amy Shaw"
        },
        "created" : "2006-09-01",
        "indexed" : "2016-03-09T15:29:46Z",
        "author" : [
          {
            "reference" : "Practitioner/practitioner-1",
            "display" : "Ronald Bone, MD"
          }
        ],
        "description" : "Pulmonology clinic acute visit",
        "content" : [
          {
            "attachment" : {
              "contentType" : "text/plain",
              "url" : "/Binary/1-note",
              "title" : "Uri where the data can be found: [base]/Binary/1-note"
            },
            "format" : {
              "system" : "urn:oid:1.3.6.1.4.1.19376.1.2.3",
              "code" : "urn:hl7-org:sdwg:ccda-structuredBody:2.1",
              "display" : "Documents following C-CDA constraints using a structured body"
            }
          }
        ],
        "context" : {
          "period" : {
            "start" : "2004-12-23T08:00:00+11:00",
            "end" : "2004-12-23T08:01:00+11:00"
          }
        }
      }
      }
      ]
    }
</code></pre></div></div>

  </div>
</div>
<p><br /></p>

:ET