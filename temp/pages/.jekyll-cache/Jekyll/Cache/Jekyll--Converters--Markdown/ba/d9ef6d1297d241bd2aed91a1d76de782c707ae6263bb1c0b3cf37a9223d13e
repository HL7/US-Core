I"k°<p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#us-core-conformance-artifacts" id="markdown-toc-us-core-conformance-artifacts">US Core Conformance Artifacts:</a></li>
  <li><a href="#conforming-to-us-core" id="markdown-toc-conforming-to-us-core">Conforming to US Core</a></li>
  <li><a href="#presentation-of-must-support-and-mandatory-elements-in-the-formal-profile-views" id="markdown-toc-presentation-of-must-support-and-mandatory-elements-in-the-formal-profile-views">Presentation of Must Support and Mandatory Elements in the Formal Profile Views</a></li>
  <li><a href="#mandatory-elements" id="markdown-toc-mandatory-elements">Mandatory Elements</a></li>
  <li><a href="#must-support-elements" id="markdown-toc-must-support-elements">Must Support Elements</a></li>
</ul>

</div>

<p>This page defines how CapabilityStatements are used and the expectations for mandatory and must support elements in the US Core Profiles. It provides guidance on how a system may support <em>only</em> the resources as profiled by US Core to represent clinical information (Profile Support) versus a system claiming conformance to <em>both</em> the US Core Profile content structure <em>and</em> the RESTful interactions defined for it (Profile Support + Interaction Support).  Note that the conformance verbs - <strong>SHALL</strong>, <strong>SHOULD</strong>, <strong>MAY</strong> - used in this guide are defined in <a href="http://hl7.org/fhir/R4/conformance-rules.html">FHIR Conformance Rules</a>.</p>

<h3 id="us-core-conformance-artifacts">US Core Conformance Artifacts:</h3>

<p>The <a href="profiles-and-extensions.html">Profiles and Extensions</a> page list the US Core Profiles and have been defined for this implementation guide.  Core Profile <a href="http://hl7.org/fhir/R4/structuredefinition.html">StructureDefinitions</a> defines the <em>minimum</em> elements, extensions, vocabularies and value sets which SHALL be present when using the profile. Each Profile page has a ‚ÄúQuick Start‚Äù guide to the supported FHIR RESTfUL transactions for each Profile</p>

<p>The Profile elements consist of both <em>Mandatory</em> and <em>Must Support</em> elements.  <em>Mandatory</em> elements are elements with an minimum cardinality of 1 (min=1). The base <a href="http://hl7.org/fhir/R4/profiling.html#mustsupport">FHIR Must Support</a> guidance requires specifications to define exactly the support expected for profile elements labeled <em>Must Support</em>.  The sections below illustrate how these elements are displayed and define the rules for interpreting profile elements and subelements labeled <em>Mandatory</em> and <em>Must Support</em> for requesters and responders.</p>

<p>The <a href="capability-statements.html">Capability Statements</a> page outlines conformance requirements and expectations for the US Core Servers and Client applications.  The <a href="CapabilityStatement-us-core-server.html">US Core Server CapabilityStatement</a> and <a href="CapabilityStatement-us-core-client.html">US Core Client CapabilityStatement</a> identify the specific profiles and RESTful transactions that need to be supported. Note that the individual US Core profiles identify the structural constraints, terminology bindings and invariants.  Similarly, the individual US Core SearchParameter and Operation resources specify how they are understood by the server. However, implementers must refer to the CapabilityStatement for details on the RESTful transactions, specific profiles and the search parameters applicable to each of the US Core actors.</p>

<h3 id="conforming-to-us-core">Conforming to US Core</h3>

<p>There are two different ways to implement US Core:</p>

<ol>
  <li>Profile Only Support:  Systems may support <em>only</em> the US Core Profiles to represent clinical information.</li>
  <li>Profile Support + Interaction Support: Systems may support <em>both</em> the US Core Profile content structure <em>and</em> the RESTful interactions defined for a resource.</li>
</ol>

<h4 id="profile-only-support">Profile Only Support</h4>

<p>Systems may deploy, and support, one or more US Core Profiles to represent clinical information. They are using the profile‚Äôs content model without any expectations to implement the US Core interactions.</p>

<p>An example scenario would be a server using only the <a href="http://hl7.org/fhir/uv/bulkdata/index.html">FHIR Bulk Data Access (Flat FHIR)</a> approach to export resources needed for the US Core Data for Interoperability.  For this server, the US Core interactions are unnecessary.</p>

<p>To support a US Core Profile, a server:</p>

<ul>
  <li><strong>SHALL</strong> Be able to populate all profile data elements that are mandatory and/or flagged as Must Support as defined by that profile‚Äôs StructureDefinition.</li>
  <li><strong>SHOULD</strong> declare support for a US Core Profile by including its official URL in the server‚Äôs <code class="highlighter-rouge">CapabilityStatement.rest.resource.supportedProfile</code> element
    <ul>
      <li>
        <p>the US Core Profile‚Äôs official or ‚Äúcanonical‚Äù URL can be found on each US Core Profile page</p>

        <p>example CapabilityStatement snippet for a server supporting the US Core Patient Profile:</p>
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "resourceType": "CapabilityStatement",
  ...
  "rest": [
    {
      "mode": "server",
      ...
      "resource": [
        ...
        {
          "type": "Patient",
          "supportedProfile": [
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"
          ],
          ...
        }
      ]
    }
  ]
}
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h4 id="profile-support--interaction-support">Profile Support + Interaction Support</h4>

<p>Systems may deploy, and support, one or more US Core Profiles to represent clinical information <em>and</em> the US Core interactions to access the information. Systems that implement <em>both</em> can claim conformance to US Core Profile content structure <em>and</em> the RESTful interactions defined for it. This is done by implementing all or parts of the USCore CapabilityStatement into their capabilities.</p>

<p>A server that certifies to the <a href="https://www.federalregister.gov/d/2020-07419/p-1177">21st Century Cures Act for accessing patient data</a> must implement all components in the USCDI and the US Core CapabilityStatement.</p>

<p>To claim conformance to a US Core Profile a server:</p>

<ul>
  <li><strong>SHALL</strong> Be able to populate all profile data elements that are mandatory and/or flagged as Must Support as defined by that profile‚Äôs StructureDefinition.</li>
  <li>
    <p><strong>SHALL</strong> declare conformance with the the <a href="CapabilityStatement-us-core-server.html">US Core Server Capability Statement</a> by including its official URL in the server‚Äôs <code class="highlighter-rouge">CapabilityStatement.instantiates</code> element: <code class="highlighter-rouge">http://hl7.org/fhir/us/core/CapabilityStatement/us-core-server</code></p>
  </li>
  <li><strong>SHALL</strong> specify the full capability details from the US Core CapabilityStatement it claims to implement.
    <ul>
      <li>Declare support for the US Core Profile by including its official URL in the server‚Äôs <code class="highlighter-rouge">CapabilityStatement.rest.resource.supportedProfile</code> element</li>
      <li>Declare support for the US Core Profile‚Äôs FHIR RESTful transactions
        <ul>
          <li>The US Core Profile‚Äôs official or ‚Äúcanonical‚Äù URL can be found on each US Core Profile page</li>
        </ul>
      </li>
    </ul>

    <p>example CapabilityStatement snippet for a server conforming to the US Core Patient Profile:</p>
  </li>
</ul>

<p>
  <button class="btn-sm btn-info" type="button" title="Click to Open or Close Example" data-toggle="collapse" data-target="#conform-patient" aria-expanded="false" aria-controls="collapseExample">
    Click Here an example CapabilityStatement snippet for a server conforming to the US Core Patient Profile:
  </button>
</p>

<div class="collapse" id="conform-patient">
  <div class="card card-body">
      <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "resourceType": "CapabilityStatement",
  ...
  "instantiates": [
    "http://hl7.org/fhir/us/core/CapabilityStatement/us-core-server"
  ],
  ...
  "rest": [
    {
      "mode": "server",
      ...
      "resource": [
        ...
        {
          [
            {
              "extension": [
                  {
                    "url": "required",
                    "valueString": "birthdate"
                  },
                  {
                    "url": "required",
                    "valueString": "name"
                  }
                  ],
                  "url": "http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination"
                },
                {
                  "extension": [
                    {
                      "url": "required",
                      "valueString": "family"
                    },
                    {
                      "url": "required",
                      "valueString": "gender"
                    }
                  ],
                  "url": "http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination"
                },
                {
                    {
                      "url": "required",
                      "valueString": "birthdate"
                    },
                    {
                      "url": "required",
                      "valueString": "family"
                    }
                  ],
                  "url": "http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination"
                },
                {
                  "extension": [
                    {
                      "url": "required",
                      "valueString": "gender"
                    },
                    {
                      "url": "required",
                      "valueString": "name"
                    }
                  ],
                  "url": "http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination"
                }
              ]
            }
          ]
          "type": "Patient",
          "supportedProfile": [
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"
          ],
          "interaction": [
            {
              "code": "create"
            },
            {
              "code": "search-type"
            },
            {
              "code": "read"
            }
          ],
          "referencePolicy": [
            "resolves"
          ],
          "searchRevInclude": [
            "Provenance:target"
          ],
          "searchParam": [
            {
              "name": "_id",
              "definition": "http://hl7.org/fhir/us/core/SearchParameter/us-core-patient-id",
              "type": "token"
            },
            {
              "name": "identifier",
              "definition": "http://hl7.org/fhir/us/core/SearchParameter/us-core-patient-identifier",
              "type": "token",
              "documentation": "The client **SHALL** provide at least a code value and **MAY** provide both the system and code values.\n\nThe server **SHALL** support both."
            },
            {
              "name": "name",
              "definition": "http://hl7.org/fhir/us/core/SearchParameter/us-core-patient-name",
              "type": "string"
            }

          ],
          ...
        }
      ]
    }
  ]
}
</code></pre></div></div>

  </div>
</div>
<p><br /></p>

<h3 id="presentation-of-must-support-and-mandatory-elements-in-the-formal-profile-views">Presentation of Must Support and Mandatory Elements in the Formal Profile Views</h3>

<p>Each profile provides several different formal views of all the must support elements in a tree format under tabs labeled ‚ÄúDifferential Table‚Äù,  ‚ÄúSnapshot Table‚Äù, and ‚ÄúSnapshot Table (Must Support)‚Äù.</p>

<p>The elements labeled <em>Must Support</em> in the ‚ÄúDifferential Table‚Äù view are flagged with an <span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span>. An example of this is illustrated in Figure 1.</p>

<p><!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide --></p>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 1: Differential Table View</strong></figcaption>
  <img src="Must_Support_Differential_View.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Differential_View.png" />
</figure>

<p></p>
</div>

<p>In the ‚ÄúSnapshot Table‚Äù view in Figure 2, all the must support elements defined for the profile, and any mandatory or must support elements inherited from a base profile (e.g. <a href="StructureDefinition-us-core-body-height.html">US Core Body Height Profile</a> based on <a href="http://hl7.org/fhir/R4/observation-vitalsigns.html">Vital Signs Profile</a>), are flagged with an <span style="padding-left: 3px; padding-right: 3px; color: white; background-color: red" title="This element must be supported">S</span>. An example of the ‚ÄúSnapshot Table‚Äù is shown in Figure 2.</p>

<p><!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide --></p>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 2: Snapshot Table View</strong></figcaption>
  <img src="Must_Support_Snapshot_View.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Snapshot_View.png" />
</figure>

<p></p>
</div>

<p>In the ‚ÄúSnapshot Table (Must Support)‚Äù view, all the elements presented in the view are either mandatory or must support elements for conformance to the profile. These elements are defined in the US Core Profile, mandatory elements inherited from the base specification and, for the US Core Vital Signs profiles, any mandatory or must support elements inherited from the FHIR base Vital Signs profile. An example of the ‚ÄúSnapshot Table (Must Support)‚Äù is shown in Figure  3.</p>

<p><!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide --></p>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 3: Snapshot Table (Must Support) View</strong></figcaption>
  <img src="Must_Support_MS_View.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_MS_View.png" />
</figure>

<p></p>
</div>

<h3 id="mandatory-elements">Mandatory Elements</h3>

<p>When an element is mandatory (min=1), the data is expected to always be present. Very rarely it may not be and guidance for when data is missing is provided in the <a href="general-guidance.html#missing-data">Missing Data</a> section and in the next section.  The convention in this guide is to mark all min=1 elements as must support unless the are nested under optional element. An example of this is <a href="http://hl7.org/fhir/R4/careplan.html"><code class="highlighter-rouge">CarePlan.status</code></a>.</p>

<h3 id="must-support-elements">Must Support Elements</h3>

<p>For querying and reading US Core Profiles, <em>Must Support</em> on any profile data element <strong>SHALL</strong> be interpreted as follows (see the <a href="future-of-US-core.html">Future of US Core</a> page for writing and updating US Core Profiles):</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of populating all data elements as part of the query results as specified by the <a href="CapabilityStatement-us-core-server.html">US Core Server Capability Statement</a>.</li>
  <li>US Core Requestors <strong>SHALL</strong> be capable of processing resource instances containing the data elements without generating an error or causing the application to fail. In other words US Core Requestors <strong>SHOULD</strong> be capable of displaying the data elements for human use or storing it for other purposes.</li>
  <li>In situations where information on a particular data element is not present and the reason for absence is unknown, US Core Responders <strong>SHALL NOT</strong> include the data elements in the resource instance returned as part of the query results.</li>
  <li>When querying US Core Responders, US Core Requestors <strong>SHALL</strong> interpret missing data elements within resource instances as data not present in the US Core Responder‚Äôs system.</li>
  <li>In situations where information on a particular data element is missing or suppressed refer to the the guidance for <a href="general-guidance.html#missing-data">Missing Data</a> and <a href="general-guidance.html#missing-data">Suppressed Data</a>.  In situations where information on a particular data element is missing <em>and</em> the US Core Responder knows the precise reason for the absence of data (other than suppressed data), US Core Responders <strong>SHOULD</strong> send the reason for the missing information.  This is done by following the same methodology outlined in the <a href="general-guidance.html#missing-data">Missing Data</a> section, but using the appropriate reason code instead of <code class="highlighter-rouge">unknown</code>.</li>
  <li>US Core Requestors <strong>SHALL</strong> be able to process resource instances containing data elements asserting missing information.</li>
</ul>

<p>The terms <em>US Core Responder</em> Actor <em>US Core Requestor Actor</em> are used throughout the guide and typically refer to a server or a client.</p>

<p>Readers are advised to understand <a href="http://hl7.org/fhir/R4/terminologies.html">FHIR Terminology</a> requirements, <a href="http://hl7.org/fhir/R4/http.html">FHIR RESTful API</a> based on the HTTP protocol, along with <a href="http://hl7.org/fhir/R4/datatypes.html">FHIR Data Types</a>, <a href="http://hl7.org/fhir/R4/search.html">FHIR Search</a> and <a href="http://hl7.org/fhir/R4/resource.html">FHIR Resource</a> formats before implementing US Core requirements.</p>

<div class="new-content">
  <p>All the profile information for the US Core Implementation Guide is represented in a single CSV or Excel file.  This may be useful to testers and analysts to review the must support and mandatory elements across profiles in a single table.</p>

  <ul>
    <li><a href="uscore_profiles.csv">CSV</a></li>
    <li><a href="uscore_profiles.xlsx">Excel</a></li>
  </ul>
</div>

<h4 id="must-support---coded-elements">Must Support - Coded Elements</h4>
<p>In addition to the guidance provided by <a href="http://hl7.org/fhir/R4/terminologies.html">FHIR Terminology</a>, Coded elements (<code class="highlighter-rouge">CodeableConcept</code>, <code class="highlighter-rouge">Coding</code>, and <code class="highlighter-rouge">code</code> datatypes) which are marked as Must Support follow the rules for their respective bindings.</p>

<h5 id="required-bindings-coded-elements">Required Bindings Coded Elements</h5>

<p><a href="http://hl7.org/fhir/R4/terminologies.html#required">Required binding</a> to a value set definition means that one of the codes from the specified value set <strong>SHALL</strong> be used. For <code class="highlighter-rouge">CodeableConcept</code> using only text is <em>not</em> valid, but multiple codings (translations) are permitted as is discussed below.</p>

<p>For example, the <a href="StructureDefinition-us-core-allergyintolerance.html">US Core AllergyIntolerance Profile</a> clinicalStatus element has a required binding to the AllergyIntoleranceClinicalStatusCodes ValueSet. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> provide a code <em>exclusively</em> from this valueset in  <code class="highlighter-rouge">AllergyIntolerance.clinicalStatus.code</code>.</li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing the code in <code class="highlighter-rouge">AllergyIntolerance.clinicalStatus.code</code>.</p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 4: US Core AllergyIntolerance.clinicalStatus</strong></figcaption>
  <img src="Must_Support_AllergyIntolerance_clinicalStatus.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_AllergyIntolerance_clinicalStatus.png" />
</figure>

<p></p>
</div>

<div class="new-content">
  <h5 id="required-bindings-when-slicing-by-value-sets">Required Bindings When Slicing by Value Sets</h5>

  <p>FHIR profiles use <a href="http://hl7.org/fhir/R4/profiling.html#slicing">slicing</a> when a coded element is a repeating element and a particular value set is desired for at least one of the repeats. This is a special case where a <em>required</em> value set binding is used to differentiate the repeat.  In this guide, the minimum cardinality for these ‚Äòslices‚Äô is set to 0 so that other codes are allowed when no suitable code exists in the value set (equivalent to  Extensible Binding below). The example in figure 5 below illustrates this structure for the repeating Condition.category element:</p>

  <ul>
    <li>This structure allows 0..* concept(s) from the <em>required</em> value set.</li>
    <li>
      <p>This structure, by being 0..*, allows servers to send concepts not in the required value set.</p>

      <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
    </li>
  </ul>

  <div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 5: US Core Condition.category</strong></figcaption>
  <img src="Must_Support_Condition_category.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Condition_category.png" />
</figure>

<p></p>
</div>

</div>

<h5 id="extensible-binding-for-codeableconcept-datatype">Extensible Binding for CodeableConcept Datatype</h5>

<p><a href="http://hl7.org/fhir/R4/terminologies.html#extensible">Extensible Binding</a> to a value set definition means that one of the codes from the specified value set <strong>SHALL</strong> be used if an applicable concept is present, but if no suitable code exists in the value set, alternate code(s) may be provided in its place.  For <code class="highlighter-rouge">CodeableConcept</code> multiple codings are permitted and this rule applies to one of the codings.  Also for <code class="highlighter-rouge">CodeableConcept</code> if only text is available, then just text may be used.</p>

<p>To illustrate extensible binding for CodeableConcept datatype, the <a href="StructureDefinition-us-core-allergyintolerance.html">US Core AllergyIntolerance Profile</a> code element has an extensible binding to the VSAC ValueSet ‚ÄúCommon substances for allergy and intolerance documentation including refutations‚Äù Allergy. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> provide:
    <ul>
      <li>a code from this valueset in <code class="highlighter-rouge">AllergyIntolerance.code.code</code> <em>if the concept exists</em> in the value set</li>
      <li>or an alternative code <em>if the concept does not exist</em> in the value set</li>
      <li>or text in <code class="highlighter-rouge">AllergyIntolerance.code.text</code>if only text is available.</li>
    </ul>
  </li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing the code in <code class="highlighter-rouge">AllergyIntolerance.code.code</code> or text in <code class="highlighter-rouge">AllergyIntolerance.code.text</code></p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 6: US Core AllergyIntolerance.code</strong></figcaption>
  <img src="Must_Support_AllergyIntolerance_code.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_AllergyIntolerance_code.png" />
</figure>

<p></p>
</div>

<p>Although the FHIR guidance for extensible bindings indicates that <em>all conceptual overlaps</em> including free text be mapped the coded values in the bindings, US Core guidance provides more flexibility for situations where implementers cannot fully comply with the FHIR base guidance. This flexibility is sometimes necessary and expected for legacy and text only data. For newly recorded, non legacy data, a system <strong>SHOULD</strong> meet the conformance of the value set.</p>

<p>For example, the <a href="ValueSet-us-core-procedure-code.html">US Core Procedure Codes</a> and  <a href="ValueSet-us-core-condition-code.html">US Core Condition Code</a> value sets contain a number of high-level abstract codes. For data not captured by the system transmitting the information, the coded data should be automatically converted to a fine-grained code from the specified value set. If this is not possible, the system can provide the existing code or the free text, <em>and a high-level abstract code</em>, such as SNOMED CT ‚ÄòProcedure‚Äô, to remain conformant with the extensible binding.</p>

<h5 class="no_toc" id="translations">Using multiple codes with CodeableConcept Datatype</h5>

<p>Alternate codes may be provided in addition than the standard codes defined in required or extensible value sets. The alternate codes are called ‚Äútranslations‚Äù. These translations may be equivalent to or narrower in meaning to the standard concept code.</p>

<p>Example of multiple translation for Body Weight concept code.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    "code": {
        "coding": [
         {
            "system": "http://loinc.org",  //NOTE:this is the standard concept defined in the value set//
            "code": "29463-7",
            "display": "Body Weight"
          },
    //NOTE:this is a translation to a more specific concept
         {
            "system": "http://loinc.org",
            "code": "3141-9",
            "display": "Body Weight Measured"
          },
    //NOTE:this is a translation to a different code system (Snomed CT)
         {
            "system": "http://snomed.info/sct",
            "code":  ‚Äú364589006‚Äù,
            "display": "Body Weight"
          }
    //NOTE:this is a translation to a locally defined code
         {
            "system": "http://AcmeHealthCare.org",
            "code":  ‚ÄúBWT‚Äù,
            "display": "Body Weight"
          }
        ],
        "text": "weight"
      },
</code></pre></div></div>

<p>Example of translation of CVX vaccine code to NDC code.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    "vaccineCode" : {
        "coding" : [
          {
            "system" : "http://hl7.org/fhir/R4/sid/cvx",
            "code" : "158",
            "display" : "influenza, injectable, quadrivalent"
          },
          {
            "system" : "http://hl7.org/fhir/R4/sid/ndc",
            "code" : "49281-0623-78",
            "display" : "FLUZONE QUADRIVALENT"
          }
        ]
      },
</code></pre></div></div>

<h5 id="defined-pattern-elements">Defined Pattern Elements</h5>

<p>The StructureDefinitions define the US Core Profiles and the <a href="http://hl7.org/fhir/R4/elementdefinition-definitions.html#ElementDefinition.pattern_x_">ElementDefinition.pattern</a> which is used almost exclusively for the CodeableConcept and Coding  datatypes. If the element is marked as must support and defined by a pattern then the pattern defines the elements <em>and</em> element values that the server <strong>SHALL</strong> be capable of providing.</p>

<p>For example the <a href="StructureDefinition-us-core-diagnosticreport-lab.html">US Core DiagnosticReport Profile for Laboratory Results Reporting</a> category element is defined with a pattern requiring fixed values in <code class="highlighter-rouge">DiagnosticReport.category.coding.system</code>  and <code class="highlighter-rouge">DiagnosticReport.category.coding.code</code> for a Coding element. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> provide these values in a <code class="highlighter-rouge">DiagnosticReport.category</code></li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing these values in <code class="highlighter-rouge">DiagnosticReport.category</code></p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 7: US Core DiagnosticReport.category</strong></figcaption>
  <img src="Must_Support_DiagnosticReport_category.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_DiagnosticReport_category.png" />
</figure>

<p></p>
</div>

<h4 id="must-support---primitive-element">Must Support - Primitive Element</h4>

<p>Primitive elements are are single elements with a primitive value. If they are marked as must support, then the server <strong>SHALL</strong> be capable of providing the element value to meet the must support requirement.</p>

<p>For example, the [US Core DiagnosticReport Profile] issued element is a primitive <code class="highlighter-rouge">instant</code> datatype. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of providing a value in a <code class="highlighter-rouge">DiagnosticReport.issued</code></li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing the value in <code class="highlighter-rouge">DiagnosticReport.issued</code></p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 8: US Core DiagnosticReport.issued</strong></figcaption>
  <img src="Must_Support_DiagnosticReport_issued.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_DiagnosticReport_issued.png" />
</figure>

<p></p>
</div>

<h4 id="must-support---complex-elements">Must Support - Complex Elements</h4>

<p>Complex element are composed of primitive and/or other complex elements.  In addition to the general guidance for complex elements in this section, there is additional must support guidance in other sections for the following complex datatypes:</p>

<ul>
  <li><a href="#must-support---coded-elements"><code class="highlighter-rouge">CodeableConcept</code></a></li>
  <li><a href="#must-support---coded-elements"><code class="highlighter-rouge">Coding</code></a></li>
  <li><a href="#must-support---resource-references"><code class="highlighter-rouge">Reference</code></a></li>
</ul>

<p>For any complex element marked as must support, the server <strong>SHALL</strong> be capable of providing at least one of the sub-element values. If any sub-element is marked as must support it must meet the must support requirements as well and satisfy the must support requirement for the parent element.</p>

<p>For example, the <a href="StructureDefinition-us-core-diagnosticreport-note.html">US Core DiagnosticReport Profile for Report and Note exchange</a> presentedForm element is labeled must support and has no must support sub-elements. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of providing a value in <code class="highlighter-rouge">DiagnosticReport.presentedForm</code> sub-element.</li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing the value in <code class="highlighter-rouge">DiagnosticReport.presentedForm</code>.</p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 9: US Core DiagnosticReport.presentedForm</strong></figcaption>
  <img src="Must_Support_DiagnosticReport_presentedForm.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_DiagnosticReport_presentedForm.png" />
</figure>

<p></p>
</div>

<p>For example, the <a href="StructureDefinition-us-core-patient.html">US Core Patient Profile</a> name element is labeled must support and has must support sub-elements ‚Äúfamily‚Äù and ‚Äúgiven‚Äù. When claiming conformance to this profile:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of providing a value in <code class="highlighter-rouge">Patient.name.family</code> and <code class="highlighter-rouge">Patient.name.given</code>.</li>
  <li>
    <p>US Core Requestors <strong>SHALL</strong> be capable of processing the value in value in <code class="highlighter-rouge">Patient.name.family</code> and <code class="highlighter-rouge">Patient.name.given</code>.</p>

    <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->
  </li>
</ul>

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 10: US Core Patient.name</strong></figcaption>
  <img src="Must_Support_Patient_name.png" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Patient_name.png" />
</figure>

<p></p>
</div>

<p>On the other hand, if any sub-element is marked as must support and the parent element is not, there is <em>no expectation</em> that you must support the parent. However, if the parent element is represented in the structure you must support the sub-element(s) marked as must support. There are no examples of US Core profiles that have this structure defined.</p>

<p>Systems can support the other elements, but this is not a requirement of US Core. The <a href="https://www.healthit.gov/isa/sites/isa/files/2020-07/USCDI-Version-1-July-2020-Errata-Final.pdf">U.S. Core Data for Interoperability (USCDI) v1</a> may require other elements, for example <code class="highlighter-rouge">suffix</code>.</p>

<h4 id="must-support---resource-references">Must Support - Resource References</h4>

<p>In certain profiles only specific resource references are labeled as <em>Must Support</em>.</p>

<p>For example, the <a href="StructureDefinition-us-core-documentreference.html">US Core DocumentReference Profile</a> author US Core Practitioner Profile is labeled <em>Must Support</em>. When claiming conformance to the <a href="StructureDefinition-us-core-documentreference.html">US Core DocumentReference Profile</a>:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of providing a DocumentReference.author with a valid reference to a US Core Practitioner Profile.</li>
  <li>US Core Requestors <strong>SHALL</strong> be capable of processing a DocumentReference.author with a valid reference to a US Core Practitioner Profile.</li>
</ul>

<p>Systems can support other references but this is not a requirement of US Core.</p>

<!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 11: US Core DocumentReference.author</strong></figcaption>
  <img src="Must_Support_DocumentReference.jpg" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_DocumentReference.jpg" />
</figure>

<p></p>
</div>

<p>In certain profiles only a single resource reference is present on an element labeled <em>Must Support</em>.</p>

<p>For example, the <a href="StructureDefinition-us-core-allergyintolerance.html">US Core AllergyIntolerance Profile</a> patient is labeled <em>Must Support</em>. When claiming conformance to the <a href="StructureDefinition-us-core-allergyintolerance.html">US Core AllergyIntolerance Profile</a>:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of providing an <code class="highlighter-rouge">AllergyIntolerance.patient</code> with a valid reference to a US Core Patient Profile.</li>
  <li>US Core Requestors <strong>SHALL</strong> be capable of processing an <code class="highlighter-rouge">AllergyIntolerance.patient</code> with a valid reference to a US Core Patient Profile.</li>
</ul>

<!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 12: US Core AllergyIntolerance.patient</strong></figcaption>
  <img src="Must_Support_AllergyIntolerance.jpg" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_AllergyIntolerance.jpg" />
</figure>

<p></p>
</div>

<h4 id="must-support---choice-of-data-types">Must Support - Choice of Data Types</h4>

<p>Some elements allow different data types (e.g. Observation.effective[x]) for their content. In these situations, only specific data type choice elements are labeled as <em>Must Support</em>.</p>

<p>For example, the <a href="StructureDefinition-us-core-observation-lab.html">US Core Laboratory Result Observation Profile</a> effectiveDateTime is labeled <em>Must Support</em>. When claiming conformance to the <a href="StructureDefinition-us-core-observation-lab.html">US Core Laboratory Result Observation Profile</a>:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of populating <code class="highlighter-rouge">Observation.effectiveDateTime</code>.</li>
  <li>US Core Requestors <strong>SHALL</strong> be capable of processing <code class="highlighter-rouge">Observation.effectiveDateTime</code>.</li>
</ul>

<p>Systems <strong>MAY</strong> support populating and processing other choice elements (such as, Observation.effectivePeriod) but this is not a requirement of US Core.</p>

<!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 13: US Core Observation.effectiveDateTime</strong></figcaption>
  <img src="Must_Support_Observation.effective.jpg" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Observation.effective.jpg" />
</figure>

<p></p>
</div>

<p>For the <a href="StructureDefinition-us-core-observation-lab.html">US Core Laboratory Result Observation Profile</a> value element, multiple elements are labeled <em>Must Support</em>.</p>

<p>When claiming conformance to the <a href="StructureDefinition-us-core-observation-lab.html">US Core Laboratory Result Observation Profile</a>:</p>

<ul>
  <li>US Core Responders <strong>SHALL</strong> be capable of populating <code class="highlighter-rouge">Observation.valueQuantity</code>, <code class="highlighter-rouge">Observation.valueCodeableConcep</code>t, and <code class="highlighter-rouge">Observation.valueStrin</code>g.</li>
  <li>US Core Requestors <strong>SHALL</strong> be capable of processing <code class="highlighter-rouge">Observation.valueQuantity</code>, <code class="highlighter-rouge">Observation.valueCodeableConcept</code>, and <code class="highlighter-rouge">Observation.valueString</code>.</li>
</ul>

<p>Systems can support the other elements, but this is not a requirement of US Core.</p>

<!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Figure 14: US Core Observation.value[x]</strong></figcaption>
  <img src="Must_Support_Observation.value.jpg" class="figure-img img-responsive img-rounded center-block" alt="Must_Support_Observation.value.jpg" />
</figure>

<p></p>
</div>

<h4 id="must-support---choice-of-profile-elements">Must Support - Choice of Profile Elements</h4>

<p>There are several instances in this Guide where there is a choice of supporting one or another profile element to meet the must support requirement.  In such instances, the server <strong>SHALL</strong> support at least one such element, and the client application <strong>SHALL</strong> support all such elements. There is no way to define this in a computable way, but these instances are clearly documented in the <em>Profile specific implementation guidance</em> sections.</p>

<p>For example:</p>

<p><a href="StructureDefinition-us-core-medicationrequest.html">US Core Medication Request Profile</a> - The MedicationRequest resource can represent that information is from a secondary source using either a boolean flag or reference in <code class="highlighter-rouge">MedicationRequest.reportedBoolean</code>, or a reference using <code class="highlighter-rouge">MedicationRequest.reportedReference</code> to Practitioner or another resource type. Although both are marked as must support, servers are not required to support both a boolean and a reference, but <strong>SHALL</strong> choose to support at least one of these elements.</p>

:ET